---
title: "cosine"
output: html_document
---
```{r}
library(readr)
library(dplyr)
```

Матрица схожести курсов

Нужно добавить мешок слов

```{r}
library(tidyverse)
courses_reviews = read_csv('~/courses_reviews.csv')
co = courses_reviews %>%
  select(-user, -create_date, -update_date, -text, -title, -description, -tags, -review_id)

co = co %>%
  group_by(course) %>%
  mutate(mean_rating = mean(score))

co$en = ifelse(co$language=="en", 1, 0)
co$de = ifelse(co$language=="de", 1, 0)
co$be = ifelse(co$language=="be", 1, 0)
co$nl = ifelse(co$language=="nl", 1, 0)
co$ru = ifelse(co$language=="ru", 1, 0)
co = co %>%
  select(-language)
co = co %>%
  select(-score)

co = distinct(co)

rownames(co) = co$course
co = co %>% dplyr::select(-course)
sim = lsa::cosine(t(as.matrix(co)))
```

```{r}
sim[1:5, 1:5] %>% round(2)
diag(sim) = 0
```

